* Razor File Explorer Implementation Strategy

* Next in line
  - [ ] Live "Search as you type".
- [ ] Implement directives (e.g., `contents:string`, `filename:string`).

** BUGS
   - fix cwd text box parsing to just go to whatever is typed in, not relative
   - how does it define dotfiles, because some files are being classified dotfiles that are not dotfiles
** Features
   - add open with drop down in right click menu, ensure support for all platforms
   - fix search box to use directives like file:
 - home icon that goes to the home directory after the back button
** Core Architecture & Philosophy
   - [X] *Event Driven Architecture*
   - [X] *Performance First*
   - [X] *Project Structure*

** Phase 1: Core Skeleton & Event Loop
   - [X] Initialize Go Workspace and Modules.
   - [X] Setup `internal/ui` package.
   - [X] Setup `internal/fs` package.
   - [X] Implement main Event Loop.

** Phase 2: Navigation & State Management
   - [X] Create `AppState`.
   - [X] Basic Directory Navigation.
   - [X] Menu Bar with Path Label.
   - [X] History Stack (Back/Forward functionality).
   - [ ] Implement `Breadcrumbs` widget (Interactive path segments).
   - [X] *Editable Address Bar*: Click path label to type directory (Enter to navigate).
   - [X] *File Open*: Double-click files to open in system default app.
   - [X] *OS Handling*: 
     - [X] Windows Drive enumeration (C:\, D:\).
     - [X] Unix/Linux Root (/).

** Phase 3: High-Performance UI Rendering
   - [X] Implement Virtualization (`layout.List`).
   - [X] Windows-style Column Layout (Name, Date, Type, Size).
   - [X] Context Menu (Right Click).
   - [X] Favorites Sidebar (SQLite Backend).
   - [ ] Mouse/Keyboard Interaction:
     - [X] Single click to select (highlight).
     - [X] Double click to traverse/open.
     - [X] Keyboard navigation (Enter).
     - [X] Global Click Deselect.
     - [ ] BUG: Up/Down arrow key navigation is inconsistent on some platforms.
     - [ ] BUG: Fix Keyboard navigation for hotkeys
   - [ ] fix query unit tests
   - [ ] Efficient Icon Rendering.

** Phase 4: Advanced Features
   - [X] *Search*: 
     - [X] Multi-threaded recursive search using `fastwalk`.
     - [X] Utilize fast-text-search for content searching.
     - [ ] Live "Search as you type".
     - [ ] Implement directives (e.g., `contents:string`, `filename:string`).
   - [ ] *Advanced Search Querying*:
     - [ ] Change default behavior to search Filenames first.
     - [ ] Implement regex directives 
     - [ ] Explore Directory Tree indexing for faster structure traversals.
   - [X] *Persistence & Favorites*:
     - [X] Explore SQLite as an option for storing Favorites/Bookmarks.
     - [X] Implement Favorites Bar in UI.
   - [ ] *Async Metadata*: 
     - Calculate directory sizes on a background thread.
   - [ ] *Preview Pane*: 
     - Light-weight text/image preview.
   - Drag and drop files

** Phase 5: Optimization & Hardening
   - [ ] *Profiling*: Use `pprof`.
   - [ ] *Debug Mode*: Implement --debug flag and verbose logging.
   - [ ] *Build Optimization*: Convert --debug to preprocessor directive (build tags).
   - [ ] *Refactoring*: Add a colors package for RGB definitions to centralize theming.
   - [ ] *Context Cancellation*.
   - [ ] *Cross-Platform Checks*.
